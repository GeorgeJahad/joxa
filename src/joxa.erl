%% -*- mode: Erlang; fill-column: 76; comment-column: 76; -*-
-module(joxa).

-export([gensym/0]).

-include_lib("joxa/include/joxa.hrl").
%%=============================================================================
%% Types
%%=============================================================================

%%=============================================================================
%% Public API
%%=============================================================================
-spec gensym() -> atom().
gensym() ->
    X = erlang:phash2({node(), now(), crypto:rand_bytes(16)}),
    list_to_atom(lists:flatten(io_lib:format("GENSYM_~s",
                                             [[io_lib:format("~.16B",[Y]) ||
                                                  <<Y:8>> <= binary:encode_unsigned(X) ]]))).

%%=============================================================================
%% Internal Functions
%%=============================================================================
